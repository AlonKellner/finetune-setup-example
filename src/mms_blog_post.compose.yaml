services:
  mms_blog_post:
    env_file:
      - ./src/mms_blog_post.env
    build:
      context: .
      dockerfile: ./src/mms_blog_post.Dockerfile
      target: python
      args:
        WORKDIR: ${WORKDIR}
    networks:
      - finetune-setup-example
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
              count: 1
              capabilities: [gpu]

networks:
  finetune-setup-example:
    external: true
